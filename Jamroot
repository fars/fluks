DEBUG = -DDEBUG ;
using gcc : # compiler version
	: # c++ compile command
	:
	# -D_BSD_SOURCE needed for proper endian macros; c++ cannot use
	# -pedantic as <tr1/*> headers are needed
	<cxxflags>"-std=c++98 -D_BSD_SOURCE $(DEBUG)"
	<cflags>"-std=c99 -pedantic -D_BSD_SOURCE $(DEBUG)"
	;
lib boost_filesystem ;
lib boost_program_options ;
lib boost_regex ;
lib boost_system ;
lib devmapper ;
lib ssl ;
lib uuid ;
lib fluks_crypto :
	serpent.cpp tiger.cpp
	cast6.c twofish.c whirlpool.c
	;
exe fluks :
	af.cpp backup.cpp cipher.cpp crypt.cpp
	detect.cpp dm.cpp errors.cpp fluks.cpp
	hash.cpp hmac.cpp luks.cpp os.cpp pbkdf2.cpp
	support.cpp

	# libraries
	fluks_crypto/<link>static
	boost_filesystem boost_program_options
	boost_regex devmapper ssl uuid
	;
exe run_test :
	run_test.cpp
	cipher.cpp crypt.cpp errors.cpp hash.cpp hmac.cpp
	support.cpp

	# libraries
	fluks_crypto/<link>static
	boost_system ssl
	;
